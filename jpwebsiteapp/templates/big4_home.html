{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<section class="big4-hero" style="background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url({% static 'party_images/2-Jubilee-10-years-of-transformation.jpg' %})">
  <div class="container">
    <h1>The Big Four Agenda</h1>
    <p>Kenya's blueprint for transformative economic growth</p>
  </div>
</section>

<!-- Pillars Section -->
<section class="pillars-section">
  <div class="container">
    <div class="section-header">
      <h2>The Four Pillars</h2>
      <p>Driving Kenya's development vision</p>
    </div>
    
    <div class="pillars-grid">
      <!-- Manufacturing -->
      <div class="pillar-card manufacturing">
        <div class="pillar-icon">
          <img src="{% static 'party_images/Big-4-agenda-manufacturing-red.png' %}" alt="Manufacturing">
        </div>
        <h3>Manufacturing</h3>
        <p>Increasing manufacturing contribution to GDP from 9% to 15% by 2022</p>
        <a href="#manufacturing" class="btn-pillar">Learn More</a>
      </div>

      <!-- Affordable Housing -->
      <div class="pillar-card housing">
        <div class="pillar-icon">
          <img src="{% static 'party_images/Big-4-agenda-housing-red.png' %}" alt="Housing">
        </div>
        <h3>Affordable Housing</h3>
        <p>500,000 affordable homes by 2022</p>
        <a href="#housing" class="btn-pillar">Learn More</a>
      </div>

      <!-- Healthcare -->
      <div class="pillar-card healthcare">
        <div class="pillar-icon">
          <img src="{% static 'party_images/Big-4-agenda-health-red.png' %}" alt="Healthcare">
        </div>
        <h3>Universal Healthcare</h3>
        <p>Quality healthcare for all Kenyans</p>
        <a href="#healthcare" class="btn-pillar">Learn More</a>
      </div>

      <!-- Food Security -->
      <div class="pillar-card food-security">
        <div class="pillar-icon">
          <img src="{% static 'party_images/Big-4-agenda-food-security-red.png' %}" alt="Food Security">
        </div>
        <h3>Food Security</h3>
        <p>100% food and nutrition security</p>
        <a href="#food-security" class="btn-pillar">Learn More</a>
      </div>
    </div>
  </div>
</section>

<!-- Progress Section -->
<section class="progress-section">
  <div class="container">
    <h2>Implementation Progress</h2>
    <div class="progress-grid">
      {% comment %} You may want to make these dynamic later {% endcomment %}
      {% for pillar, percent in "Manufacturing:87,Affordable Housing:72,Healthcare:65,Food Security:91".split(',') %}
        {% with pillar=percent.split(':')[0] value=percent.split(':')[1] %}
        <div class="progress-card">
          <div class="progress-number">{{ value }}%</div>
          <h3>{{ pillar }}</h3>
          <div class="progress-bar">
            <div class="progress-fill" style="width: {{ value }}%"></div>
          </div>
        </div>
        {% endwith %}
      {% endfor %}
    </div>
  </div>
</section>

<!-- Manufacturing Detail Section -->
<section id="manufacturing" class="pillar-detail">
  <div class="container">
    <h2>Manufacturing</h2>
    <div class="detail-content">
      <div class="detail-text">
        <h3>Key Objectives</h3>
        <ul>
          <li>Increase manufacturing GDP contribution to 15%</li>
          <li>Create 1,000,000 new jobs</li>
          <li>Expand export market share</li>
        </ul>
        <h3>Key Projects</h3>
        <div class="projects-list">
          <div class="project-item">
            <h4>Textile and Apparels</h4>
            <p>Revitalization of Rivatex and other textile factories</p>
          </div>
          <div class="project-item">
            <h4>Leather Industrial Park</h4>
            <p>Development of leather industrial parks across counties</p>
          </div>
        </div>
      </div>
      <div class="detail-image">
        <img src="{% static 'party_images/manufacturing.jpg' %}" alt="Manufacturing">
      </div>
    </div>
  </div>
</section>

<!-- Housing Detail Section -->
<section id="housing" class="pillar-detail">
  <div class="container">
    <h2>Affordable Housing</h2>
    <div class="detail-content">
      <div class="detail-text">
        <h3>Key Objectives</h3>
        <ul>
          <li>Construct 500,000 affordable homes</li>
          <li>Promote public-private partnerships</li>
          <li>Improve access to mortgage financing</li>
        </ul>
        <h3>Key Projects</h3>
        <div class="projects-list">
          <div class="project-item">
            <h4>Park Road Project</h4>
            <p>Over 1,000 units constructed under the affordable housing program</p>
          </div>
          <div class="project-item">
            <h4>Housing Fund</h4>
            <p>Mobilizing resources through a National Housing Development Fund</p>
          </div>
        </div>
      </div>
      <div class="detail-image">
        <img src="{% static 'party_images/housing.jpg' %}" alt="Housing">
      </div>
    </div>
  </div>
</section>

<!-- Healthcare Detail Section -->
<section id="healthcare" class="pillar-detail">
  <div class="container">
    <h2>Universal Healthcare</h2>
    <div class="detail-content">
      <div class="detail-text">
        <h3>Key Objectives</h3>
        <ul>
          <li>Ensure access to quality healthcare for all</li>
          <li>Expand NHIF coverage</li>
          <li>Upgrade hospitals across counties</li>
        </ul>
        <h3>Key Projects</h3>
        <div class="projects-list">
          <div class="project-item">
            <h4>UHC Pilot Counties</h4>
            <p>Piloted in Kisumu, Nyeri, Isiolo, and Machakos</p>
          </div>
          <div class="project-item">
            <h4>NHIF Reforms</h4>
            <p>Expanded access to primary and specialized services</p>
          </div>
        </div>
      </div>
      <div class="detail-image">
        <img src="{% static 'party_images/healthcare.jpg' %}" alt="Healthcare">
      </div>
    </div>
  </div>
</section>

<!-- Food Security Detail Section -->
<section id="food-security" class="pillar-detail">
  <div class="container">
    <h2>Food Security</h2>
    <div class="detail-content">
      <div class="detail-text">
        <h3>Key Objectives</h3>
        <ul>
          <li>100% food and nutrition security</li>
          <li>Enhance irrigation and reduce reliance on rain-fed agriculture</li>
          <li>Improve market access for farmers</li>
        </ul>
        <h3>Key Projects</h3>
        <div class="projects-list">
          <div class="project-item">
            <h4>Galana-Kulalu Irrigation</h4>
            <p>Boosting maize production through irrigation</p>
          </div>
          <div class="project-item">
            <h4>School Feeding Programme</h4>
            <p>Ensuring food access to vulnerable children</p>
          </div>
        </div>
      </div>
      <div class="detail-image">
        <img src="{% static 'party_images/food-security.jpg' %}" alt="Food Security">
      </div>
    </div>
  </div>
</section>

<!-- Statistics Section -->
<section class="stats-section">
  <div class="container">
    <h2>Big Four Impact by Numbers</h2>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number" data-count="750000">0</div>
        <div class="stat-label">Jobs Created</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" data-count="120">0</div>
        <div class="stat-label">Factories Built</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" data-count="350000">0</div>
        <div class="stat-label">Houses Constructed</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" data-count="85">0</div>
        <div class="stat-label">Hospitals Upgraded</div>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block scripts %}
<!-- Animated Counter Script -->
<script>
  function animateCounter(counter) {
    const target = +counter.getAttribute('data-count');
    let count = 0;
    const increment = Math.ceil(target / 100);
    const interval = setInterval(() => {
      count += increment;
      if (count >= target) {
        count = target;
        clearInterval(interval);
      }
      counter.innerText = count.toLocaleString();
    }, 20);
  }

  function animateCounters() {
    document.querySelectorAll('.stat-number').forEach(animateCounter);
  }

  function handleScroll() {
    const statsSection = document.querySelector('.stats-section');
    const position = statsSection.getBoundingClientRect().top;
    const screenPosition = window.innerHeight / 1.3;
    
    if (position < screenPosition) {
      animateCounters();
      window.removeEventListener('scroll', handleScroll);
    }
  }

  window.addEventListener('scroll', handleScroll);
</script>
{% endblock %}
